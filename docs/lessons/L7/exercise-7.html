

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Exercise 7 &mdash; DS4Earth sp2020 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../../',
              VERSION:'sp2020',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="prev" title="Anatomy of a plot" href="plot-anatomy.html" />
    <link href="../../_static/geo-python.css" rel="stylesheet" type="text/css">
     

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> DS4Earth
          

          
            
            <img src="../../_static/HY-logo-2017.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                2020
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Course information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../course-info/course-info.html">General info</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../course-info/course-info.html#course-meetings-in-period-i">Course meetings in Period I</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../course-info/course-info.html#instructors">Instructors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../course-info/course-info.html#lecturers">Lecturers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../course-info/course-info.html#course-assistants">Course assistants</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../course-info/course-info.html#course-websites">Course websites</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../course-info/learning-goals.html">Learning goals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../course-info/grading.html">Grading</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../course-info/grading.html#general-grading-breakdown">General grading breakdown</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../course-info/installing-anacondas.html">Installing Python</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../course-info/installing-anacondas.html#install-python-on-windows">Install Python on Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../course-info/installing-anacondas.html#install-python-on-macos">Install Python on macOS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../course-info/installing-anacondas.html#install-python-on-linux">Install Python on Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../course-info/installing-anacondas.html#installing-packages-using-conda">Installing packages using Conda</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../course-info/installing-anacondas.html#the-easiest-way">The easiest way</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../course-info/installing-anacondas.html#installing-jupyter-lab-using-conda">Installing Jupyter Lab using conda</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../course-info/installing-anacondas.html#alternative-way-to-install-packages-if-typical-doesn-t-work">Alternative way to install packages if typical doesn’t work</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../course-info/python-vocabulary.html">Vocabulary - Basic terms</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../course-info/python-vocabulary.html#python-vocabulary">Python vocabulary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../course-info/python-vocabulary.html#basic-vocabulary-of-version-control">Basic vocabulary of Version Control</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../course-info/resources.html">Resources</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../course-info/resources.html#books">Books</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../course-info/resources.html#python-tutorials">Python tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../course-info/resources.html#git-github-tutorials">Git + Github tutorials</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../course-info/licensing.html">License and terms of usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../course-info/licensing.html#instructional-materials">Instructional materials</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../course-info/licensing.html#you-are-free-to">you are free to</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../course-info/licensing.html#under-the-following-terms">Under the following terms</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../course-info/licensing.html#notices">Notices</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../course-info/licensing.html#code-snippets-software">Code snippets / software</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Lesson 1</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../L1/motivation.html">Motivation for the course</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../L1/motivation.html#effective-data-visualization">Effective data visualization</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../L1/overview.html">Lesson overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../L1/overview.html#learning-goals">Learning goals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../L1/overview.html#lecture-video">Lecture video</a></li>
<li class="toctree-l2"><a class="reference internal" href="../L1/overview.html#lecture-slides">Lecture slides</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../L1/course-environment-components.html">Course environment</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../L1/course-environment-components.html#jupyterlab">JupyterLab</a></li>
<li class="toctree-l2"><a class="reference internal" href="../L1/course-environment-components.html#cloud-computing-environments">Cloud computing environments</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../L1/course-environment-components.html#binder">Binder</a></li>
<li class="toctree-l3"><a class="reference internal" href="../L1/course-environment-components.html#csc-notebooks">CSC Notebooks</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../L1/course-environment-components.html#using-your-own-computer">Using your own computer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../L1/course-environment-components.html#git-and-github">Git and GitHub</a></li>
<li class="toctree-l2"><a class="reference internal" href="../L1/course-environment-components.html#slack">Slack</a></li>
<li class="toctree-l2"><a class="reference internal" href="../L1/course-environment-components.html#voting-and-polling">Voting and polling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../L1/course-environment-components.html#page-summary">Page summary</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../L1/slack-usage.html">Communicating with Slack</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../L1/slack-usage.html#accessing-the-workspace-in-slack">Accessing the workspace in Slack</a></li>
<li class="toctree-l2"><a class="reference internal" href="../L1/slack-usage.html#overview-of-slack">Overview of Slack</a></li>
<li class="toctree-l2"><a class="reference internal" href="../L1/slack-usage.html#basic-usage-of-slack">Basic usage of Slack</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../L1/slack-usage.html#notifying-a-user">Notifying a user</a></li>
<li class="toctree-l3"><a class="reference internal" href="../L1/slack-usage.html#using-threads">Using threads</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../L1/slack-usage.html#general-guidelines-for-communication">General guidelines for communication</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../L1/exercise-1.html">Exercise 1</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../L1/exercise-1.html#part-1-creating-a-github-com-account-and-using-slack">Part 1 - Creating a GitHub.com account and using Slack</a></li>
<li class="toctree-l2"><a class="reference internal" href="../L1/exercise-1.html#part-2-cooking-up-some-python">Part 2 - Cooking up some Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../L1/exercise-1.html#summary-what-to-submit">Summary (what to submit)</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Lesson 2</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../L2/overview.html">Lesson overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../L2/overview.html#learning-goals">Learning goals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../L2/overview.html#lecture-video">Lecture video</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../L2/intro-to-GitHub.html">Introduction to Version Control</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../L2/intro-to-GitHub.html#familiar">Familiar?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../L2/intro-to-GitHub.html#what-is-version-control">What is version control?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../L2/intro-to-GitHub.html#what-is-git">What is Git?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../L2/intro-to-GitHub.html#what-is-github">What is GitHub?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../L2/intro-to-GitHub.html#relies-on-git">Relies on Git</a></li>
<li class="toctree-l3"><a class="reference internal" href="../L2/intro-to-GitHub.html#social-collaborative-network">Social (collaborative) network</a></li>
<li class="toctree-l3"><a class="reference internal" href="../L2/intro-to-GitHub.html#open-source-science">Open source / science</a></li>
<li class="toctree-l3"><a class="reference internal" href="../L2/intro-to-GitHub.html#documentation">Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../L2/intro-to-GitHub.html#online-tools">Online tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../L2/intro-to-GitHub.html#issue-tracking">Issue tracking</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../L2/intro-to-GitHub.html#basic-vocabulary">Basic vocabulary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../L2/intro-to-GitHub.html#resources">Resources</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../L2/git-basics.html">Meet Git</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../L2/git-basics.html#overview-and-preparations">Overview and preparations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../L2/git-basics.html#key-concepts-and-tools">Key concepts and tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../L2/git-basics.html#using-git-from-the-command-line">Using Git from the command line</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../L2/git-basics.html#configuration">Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../L2/git-basics.html#clone-a-repository-from-github">Clone a repository from GitHub</a></li>
<li class="toctree-l3"><a class="reference internal" href="../L2/git-basics.html#add-changes-to-the-staging-area">Add changes to the staging area</a></li>
<li class="toctree-l3"><a class="reference internal" href="../L2/git-basics.html#commit-changes">Commit changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../L2/git-basics.html#publish-your-local-commits-to-github">Publish your local commits to GitHub</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../L2/git-basics.html#using-the-jupyterlab-git-plugin">Using the JupyterLab Git plugin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../L2/git-basics.html#preparations-in-the-terminal">Preparations in the Terminal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../L2/git-basics.html#stage-changes-in-the-plugin">Stage changes in the plugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../L2/git-basics.html#commit-changes-in-the-plugin">Commit changes in the plugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../L2/git-basics.html#pull-and-push-using-the-plugin">Pull and push using the plugin</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../L2/git-basics.html#if-everything-else-fails">If everything else fails…</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../L2/GitHub-classroom.html">Using Classroom for Github</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../L2/GitHub-classroom.html#classroom-for-github">Classroom for GitHub</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../L2/exercise-2.html">Exercise 2</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../L2/exercise-2.html#cloud-computing-environments">Cloud computing environments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../L2/exercise-2.html#exercise-2-hints">Exercise 2 hints</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../L2/exercise-2.html#git">Git</a></li>
<li class="toctree-l3"><a class="reference internal" href="../L2/exercise-2.html#list-methods">List methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="../L2/exercise-2.html#indentation-woes">Indentation woes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Lesson 3</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../L3/overview.html">Lesson overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../L3/overview.html#learning-goals">Learning goals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../L3/overview.html#lecture">Lecture</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../L3/exercise-3.html">Exercise 3</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../L3/exercise-3.html#cloud-computing-environments">Cloud computing environments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../L3/exercise-3.html#exercise-3-hints">Exercise 3 hints</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../L3/exercise-3.html#general-tips">General tips</a></li>
<li class="toctree-l3"><a class="reference internal" href="../L3/exercise-3.html#tests">Tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="../L3/exercise-3.html#combining-strings">Combining strings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../L3/exercise-3.html#nested-if-statements">Nested if statements</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Lesson 4</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../L4/overview.html">Lesson overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../L4/overview.html#learning-goals">Learning goals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../L4/overview.html#lecture">Lecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../L4/overview.html#id1">Lecture</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../L4/exercise-4.html">Exercise 4</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../L4/exercise-4.html#cloud-computing-environments">Cloud computing environments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../L4/exercise-4.html#exercise-4-hints">Exercise 4 hints</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../L4/exercise-4.html#importing-variables-from-a-script">Importing variables from a script</a></li>
<li class="toctree-l3"><a class="reference internal" href="../L4/exercise-4.html#counting-values-from-a-list">Counting values from a list</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Lesson 5</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../L5/overview.html">Lesson overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../L5/overview.html#learning-goals">Learning goals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../L5/overview.html#lecture-videos">Lecture videos</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../L5/pandas-overview.html">What is Pandas?</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../L5/pandas-overview.html#easy-to-use-data-structures">Easy-to-use data structures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../L5/pandas-overview.html#combines-functionalities-from-many-python-modules">Combines functionalities from many Python modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../L5/pandas-overview.html#supports-data-read-write-from-multiple-formats">Supports data read/write from multiple formats</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../L5/exercise-5.html">Exercise 5</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../L5/exercise-5.html#exercise-5-hints-for-pandas">Exercise 5 hints for Pandas</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Lesson 6</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../L6/overview.html">Lesson overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../L6/overview.html#learning-goals">Learning goals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../L6/overview.html#lesson-videos">Lesson videos</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../L6/exercise-6.html">Exercise 6</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../L6/exercise-6.html#cloud-computing-environments">Cloud computing environments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../L6/exercise-6.html#exercise-6-hints">Exercise 6 hints</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../L6/exercise-6.html#data-format-for-problems-1-3">Data format for problems 1-3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../L6/exercise-6.html#reading-in-fixed-width-text-files">Reading in fixed-width text files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../L6/exercise-6.html#skipping-the-second-row-of-a-file">Skipping the second row of a file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../L6/exercise-6.html#joining-data-from-one-dataframe-to-another">Joining data from one DataFrame to another</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Lesson 7</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Lesson overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="overview.html#learning-goals">Learning goals</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview.html#lesson-videos">Lesson videos</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="python-plotting.html">Plotting in Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="plot-anatomy.html">Anatomy of a plot</a><ul>
<li class="toctree-l2"><a class="reference internal" href="plot-anatomy.html#common-terms-when-doing-plotting">Common terms when doing plotting</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Exercise 7</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#cloud-computing-environments">Cloud computing environments</a></li>
<li class="toctree-l2"><a class="reference internal" href="#hints-for-exercise-7">Hints for Exercise 7</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#labels-and-legends">Labels and legends</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-enumerate">Using <code class="docutils literal"><span class="pre">enumerate()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#saving-multiple-plots-into-a-directory">Saving multiple plots into a directory</a></li>
<li class="toctree-l3"><a class="reference internal" href="#settings-for-multiple-subplots">Settings for multiple subplots:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#preventing-plot-display">Preventing plot display</a></li>
<li class="toctree-l3"><a class="reference internal" href="#creating-an-animation-from-multiple-images">Creating an animation from multiple images</a></li>
<li class="toctree-l3"><a class="reference internal" href="#creating-the-animation">Creating the animation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#numpy-specific-hints">NumPy-specific hints</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#extracting-seasonal-dates-and-temperatures-in-many-years">Extracting seasonal dates and temperatures (in many years)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#finding-seasonal-average-temperatures-by-year">Finding seasonal average temperatures (by year)</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">DS4Earth</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>Exercise 7</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/DS4Earth/sp2020/blob/master//source/lessons/L7/exercise-7.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="exercise-7">
<h1>Exercise 7<a class="headerlink" href="#exercise-7" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Please complete this exercise <strong>by 4 pm on Monday 28 October 2019</strong>.</p>
</div>
<div class="admonition-start-your-assignment admonition">
<p class="first admonition-title">Start your assignment</p>
<p><strong>Pandas</strong></p>
<p><strong>You can start working on your copy of Exercise 7 by</strong> accepting the <a class="reference external" href="https://classroom.github.com/a/IKdyfF9a">GitHub Classroom assignment</a></p>
<p class="last">You can also take a look at the open course copy of <a class="reference external" href="https://github.com/Geo-Python-2019/Exercise-7">Exercise 7  in the course GitHub repository</a> (does not require logging in).
Note that you should not try to make changes to this copy of the exercise, but rather only to the copy available via GitHub Classroom.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Please note that <strong>we provide assignment feedback only for students enrolled in the course at the University of Helsinki</strong>.</p>
</div>
<div class="section" id="cloud-computing-environments">
<h2>Cloud computing environments<a class="headerlink" href="#cloud-computing-environments" title="Permalink to this headline">¶</a></h2>
<a class="reference external image-reference" href="https://mybinder.org/v2/gh/Geo-Python-2019/Binder/master?urlpath=lab"><img alt="https://img.shields.io/badge/launch-binder-red.svg" src="https://img.shields.io/badge/launch-binder-red.svg" /></a>
<a class="reference external image-reference" href="https://notebooks.csc.fi/#/blueprint/d71cd2d26d924f48820dc22b67a87d8e"><img alt="https://img.shields.io/badge/launch-CSC%20notebook-blue.svg" src="https://img.shields.io/badge/launch-CSC%20notebook-blue.svg" /></a>
</div>
<div class="section" id="hints-for-exercise-7">
<h2>Hints for Exercise 7<a class="headerlink" href="#hints-for-exercise-7" title="Permalink to this headline">¶</a></h2>
<div class="section" id="labels-and-legends">
<h3>Labels and legends<a class="headerlink" href="#labels-and-legends" title="Permalink to this headline">¶</a></h3>
<p>In the plot for Problem 3 you’re asked to include a line legend for each subplot.
To do this, you need to do two things:</p>
<ol class="arabic simple">
<li>You need to add a <code class="docutils literal"><span class="pre">label</span></code> value when you create the plot using the <code class="docutils literal"><span class="pre">plt.plot()</span></code> function.
This is as easy as adding a parameter that say <code class="docutils literal"><span class="pre">label='some</span> <span class="pre">text'</span></code> when you call <code class="docutils literal"><span class="pre">plt.plot()</span></code>.</li>
<li>You’ll need to display the line legend, which can be done by calling <code class="docutils literal"><span class="pre">plt.legend()</span></code> for each subplot.</li>
</ol>
</div>
<div class="section" id="using-enumerate">
<h3>Using <code class="docutils literal"><span class="pre">enumerate()</span></code><a class="headerlink" href="#using-enumerate" title="Permalink to this headline">¶</a></h3>
<p>In case the <code class="docutils literal"><span class="pre">enumerate()</span></code> function is causing you some confusion, here is a simple example.
The general idea is that <code class="docutils literal"><span class="pre">enumerate()</span></code> will return both the value in a list and its index when you use it.
Let’s see if this helps…</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">animals</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;dog&#39;</span><span class="p">,</span> <span class="s1">&#39;cat&#39;</span><span class="p">,</span> <span class="s1">&#39;frog&#39;</span><span class="p">]</span>

<span class="gp">In [2]: </span><span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">animal</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">animals</span><span class="p">):</span>
<span class="gp">   ...: </span>    <span class="k">print</span><span class="p">(</span><span class="n">animal</span><span class="p">,</span> <span class="s1">&#39;is in location&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
<span class="gp">   ...: </span>
<span class="go">dog is in location 0</span>
<span class="go">cat is in location 1</span>
<span class="go">frog is in location 2</span>
</pre></div>
</div>
</div>
<div class="section" id="saving-multiple-plots-into-a-directory">
<h3>Saving multiple plots into a directory<a class="headerlink" href="#saving-multiple-plots-into-a-directory" title="Permalink to this headline">¶</a></h3>
<p>In Problems 3 and 4 the aim is to create 65 individual plots, and save those into your computer.
In these kind of situations, the smartest thing to do is to use a <code class="docutils literal"><span class="pre">for</span></code> loop and at the end of each
loop, save the image into a folder that you have specified. There are some useful tricks related to saving
files and generating good file names automatically.</p>
<p>A good approach when saving multiple files into a folder, is to define a separate variable where you store
only the directory path. Then during every loop you combine this directory path, and the file name together.
This can be done by using a function <code class="docutils literal"><span class="pre">os.path.join()</span></code> which is part of <code class="docutils literal"><span class="pre">os</span></code> built-in Python module.</p>
<p>Consider following example:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="kn">import</span> <span class="nn">os</span>

<span class="gp">In [4]: </span><span class="n">myfolder</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;C:\MyUserName\Temp_visualizations&quot;</span>

<span class="gp">In [5]: </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
<span class="gp">   ...: </span>    <span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;My_File_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;.png&quot;</span>
<span class="gp">   ...: </span>    <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">myfolder</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
<span class="gp">   ...: </span>    <span class="k">print</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
<span class="gp">   ...: </span>
<span class="go">C:\MyUserName\Temp_visualizations/My_File_0.png</span>
<span class="go">C:\MyUserName\Temp_visualizations/My_File_1.png</span>
<span class="go">C:\MyUserName\Temp_visualizations/My_File_2.png</span>
<span class="go">C:\MyUserName\Temp_visualizations/My_File_3.png</span>
<span class="go">C:\MyUserName\Temp_visualizations/My_File_4.png</span>
</pre></div>
</div>
<p>Here, we created a folder path and a unique filename, and in the end parsed a full filepath that could be
used to save a plot into that location on your computer.</p>
</div>
<div class="section" id="settings-for-multiple-subplots">
<h3>Settings for multiple subplots:<a class="headerlink" href="#settings-for-multiple-subplots" title="Permalink to this headline">¶</a></h3>
<p>There are different ways of manipulating matplotlib subplots.
Here is one trick for modifying multiple subplot properties (of <cite>axes</cite>) at once:</p>
</div>
<div class="section" id="preventing-plot-display">
<h3>Preventing plot display<a class="headerlink" href="#preventing-plot-display" title="Permalink to this headline">¶</a></h3>
<p>When creating the series of images needed for the animation in Problem 5, you may be stuck with many plots being displayed in JupyterLab.
You can suppress the display of plots by calling <code class="docutils literal"><span class="pre">plt.close()</span></code> after the <code class="docutils literal"><span class="pre">plt.savefig(...)</span></code> command.
In other words, you can do</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="o">...</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="o">...</span>
</pre></div>
</div>
<p>which will close the plot before it would normally be displayed.</p>
</div>
<div class="section" id="creating-an-animation-from-multiple-images">
<h3>Creating an animation from multiple images<a class="headerlink" href="#creating-an-animation-from-multiple-images" title="Permalink to this headline">¶</a></h3>
<p>In Problems 3 and 4 the aim was to plot multiple images on a predefined folder. An optional task
was to create an animation out of those figures. Animating the figures in Problems 3 and 4 is fairly
straightforward task to do in Python. All you need to do is to install a module called <code class="docutils literal"><span class="pre">imageio</span></code> and
run couple lines of code that I show below.</p>
<p>But, first you need to install <code class="docutils literal"><span class="pre">imageio</span></code> module.</p>
<p>Installing the module can be done by running following command <strong>from the command prompt / terminal</strong> with <strong>admin rights</strong>:</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span>$ conda install -c conda-forge imageio
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If everything works fine you should not see any errors coming into the screen. If you receive an error, the most typical
one is that you did not have <strong>admin rights</strong> when trying to install the module. In such case, you should open command prompt
with admin rights (Command prompt –&gt; right click –&gt; Run as administrator..)</p>
</div>
<p>When you have imageio installed you should be able to import it, in Spyder:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [6]: </span><span class="kn">import</span> <span class="nn">imageio</span>
</pre></div>
</div>
</div>
<div class="section" id="creating-the-animation">
<h3>Creating the animation<a class="headerlink" href="#creating-the-animation" title="Permalink to this headline">¶</a></h3>
<p>Following commands should produce a nice gif-animation out of your plots. The idea is that you list all the
files from the folder where you saved the plots using <code class="docutils literal"><span class="pre">glob</span></code> function, and then pass that file list into imageio
function called <code class="docutils literal"><span class="pre">imageio.mimsave()</span></code>. A following example shows how to do that.</p>
<p>First we list all the files from folder that has <code class="docutils literal"><span class="pre">.png</span></code> file format using <code class="docutils literal"><span class="pre">glob</span></code>. The <code class="docutils literal"><span class="pre">*</span></code> wildcard character tells to computer that
the name of the file can be anything (the purpose of the star). <code class="docutils literal"><span class="pre">.png</span></code> after the star tells that the filename should end with <code class="docutils literal"><span class="pre">.png</span></code> characters.
If there are some other files with other file format than .png, they will be excluded.
Finally, we create the animation into the computer.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">glob</span>
<span class="kn">import</span> <span class="nn">imageio</span>

<span class="c1"># Find all files from given folder that has .png file-format</span>
<span class="n">search_criteria</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;C:\MyUserName\Temp_visualizations\*.png&quot;</span>

<span class="c1"># Execute the glob function that returns a list of filepaths</span>
<span class="n">figure_paths</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">search_criteria</span><span class="p">)</span>

<span class="c1"># Save the animation to disk with 48 ms durations</span>
<span class="n">output_gif_path</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;C:\MyUserName\Temp_animation.gif&quot;</span>
<span class="n">imageio</span><span class="o">.</span><span class="n">mimsave</span><span class="p">(</span><span class="n">output_gif_path</span><span class="p">,</span> <span class="p">[</span><span class="n">imageio</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="n">fp</span><span class="p">)</span> <span class="k">for</span> <span class="n">fp</span> <span class="ow">in</span> <span class="n">figure_paths</span><span class="p">],</span> <span class="n">duration</span><span class="o">=</span><span class="mf">0.48</span><span class="p">,</span> <span class="n">subrectangles</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>With these lines of code you should be able to create a nice animation out of your plots!</p>
</div>
</div>
<div class="section" id="numpy-specific-hints">
<h2>NumPy-specific hints<a class="headerlink" href="#numpy-specific-hints" title="Permalink to this headline">¶</a></h2>
<div class="section" id="extracting-seasonal-dates-and-temperatures-in-many-years">
<h3>Extracting seasonal dates and temperatures (in many years)<a class="headerlink" href="#extracting-seasonal-dates-and-temperatures-in-many-years" title="Permalink to this headline">¶</a></h3>
<p>One of the tasks this week is to split many years of temperature anomaly data into seasonal groups (arrays in our case).
While it is possible to use the values in the <code class="docutils literal"><span class="pre">date_monthly</span></code> array to do this, your life may be easier if you simply use only the months of the seasons to split the data into separate seasonal arrays.
You can do this using masks, and although it is not totally correct, you can feel free to split your data into the following season month ranges (all within a given year).</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Season</th>
<th class="head">Months</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Winter</td>
<td>12, 1, 2</td>
</tr>
<tr class="row-odd"><td>Spring</td>
<td>3-5</td>
</tr>
<tr class="row-even"><td>Summer</td>
<td>6-8</td>
</tr>
<tr class="row-odd"><td>Fall</td>
<td>9-11</td>
</tr>
</tbody>
</table>
<p>The main point here is that although the winter of 1953 would normally include December 1952, January of 1953, and February of 1953, you can feel free to use the anomalies from January, February, and December of 1953.
Of course, you’re welcome to try to figure out how to do this the “right” way, but it is more challenging :).</p>
</div>
<div class="section" id="finding-seasonal-average-temperatures-by-year">
<h3>Finding seasonal average temperatures (by year)<a class="headerlink" href="#finding-seasonal-average-temperatures-by-year" title="Permalink to this headline">¶</a></h3>
<p>When averaging the seasonal temperatures, we can take advantage of knowing how many years of seasonal values we will have (i.e., the number of unique years in our dataset).
You can use this to create some arrays (of zeros, for example) to store the seasonal average values.
Once you have those arrays, you can use a <code class="docutils literal"><span class="pre">for</span></code> loop to go over each year and store the average anomaly values for each season.
An example of this kind of loop is below.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">year</span> <span class="ow">in</span> <span class="n">unique_years</span><span class="p">:</span>
    <span class="n">winter_yearly</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="n">anomaly_season</span><span class="p">[</span><span class="n">year_season</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span> <span class="o">==</span> <span class="n">year</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
    <span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>
</pre></div>
</div>
<p>The idea here is that you can easily loop over each year, check the condition that the year of the data slice equals the year in the loop, extract that slice from the anomaly data, and calculate the mean.
There are other ways you could do this same loop, but here we use <code class="docutils literal"><span class="pre">index</span></code> to store place the seasonal average values in the correct location in each array.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="plot-anatomy.html" class="btn btn-neutral float-left" title="Anatomy of a plot" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, B. White, Department of Marine Sciences, UNC Chapel Hill
      <span class="lastupdated">
        Last updated on Jan 09, 2020.
      </span>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
    <p> <br/> <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><br /> </a></p>
     


</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>